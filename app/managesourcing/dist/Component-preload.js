//@ui5-bundle managesourcing/Component-preload.js
sap.ui.require.preload({
	"managesourcing/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("managesourcing.Component",{metadata:{manifest:"json"}})});
},
	"managesourcing/control/IconTab/IconTab.js":function(){
sap.ui.define(["sap/m/IconTabBar","managesourcing/control/IconTab/IconTabHeader"],function(e,a){return e.extend("managesourcing.control.IconTab.IconTab",{metadata:{aggregations:{_header:{type:"managesourcing.control.IconTab.IconTabHeader",multiple:false,visibility:"hidden"}}},_getIconTabHeader:function(){var e=this.getAggregation("_header");if(!e){e=new a(this.getId()+"--header",{});this.setAggregation("_header",e,true)}return e},renderer:{}})});
},
	"managesourcing/control/IconTab/IconTabHeader.js":function(){
sap.ui.define(["sap/m/IconTabHeader"],function(e){"use strict";return e.extend("managesourcing.control.IconTab.IconTabHeader",{init:function(){if(sap.m.IconTabHeader.prototype.init){sap.m.IconTabHeader.prototype.init.apply(this,arguments)}},setSelectedItem:function(e,t){if(this.getSelectedKey()===e.mProperties.key){return}if(!this.validateTab(e.mProperties.key)){return}if(sap.m.IconTabHeader.prototype.setSelectedItem){sap.m.IconTabHeader.prototype.setSelectedItem.apply(this,arguments)}},renderer:{}})});
},
	"managesourcing/ext/delegates/ItemTableDelegate.js":function(){
sap.ui.define(["sap/ui/mdc/TableDelegate","sap/ui/mdc/Field","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/content/FixedList","sap/ui/mdc/valuehelp/content/FixedListItem","sap/ui/mdc/valuehelp/Popover"],function(e,t,a,i,n,r,l,s,o){"use strict";var d=Object.assign({},e);var u=async function(e){return new Promise(t=>{const a=e.getDelegate().payload&&e.getDelegate().payload.modelName,i={modelName:a,control:e,resolve:t};p.call(i)})};var p=async function(){this.control.detachModelContextChange(p,this);const e=this.modelName,t=this.control.getModel(e);var a=this.control.getBindingContext();if(t&&a){this.resolve(t)}else{this.control.attachModelContextChange(p,this)}};d.fetchProperties=async function(e){return u(e).then(async t=>{debugger;var a=[];try{var i=e.getBindingContext();var n=await e.getModel().bindList("terms",i,[],[],{$expand:"ranges($select=keyid,description)"}).requestContexts();for(const t of n){var r=await t.requestObject("ranges");var l=await t.requestProperty("id");var s=await t.requestProperty("description");var o=await t.requestProperty("datatype");a.push({key:l,label:s,path:"",dataType:"sap.ui.model.type."+o});e.addColumn(c(e,e.getId()+"---col-"+l,l,o,r,t))}e.rebind();return a}catch(e){console.log(e)}})};var c=function(e,t,i,n,r,l){var s=null;var o={selectedValue:[],countries:[{key:"US",name:"United States"},{key:"DE",name:"Germany"},{key:"IN",name:"India"}]};var d=new a(o);if(r&&r.length>0){s=v(e,t,i,n,r,l)}else{s=y(e,t,i,n,r,l)}var u=new sap.ui.mdc.table.Column(t,{header:i,dataProperty:i,template:s});var o={items:[]};for(const e of r){o.items.push({keyid:e.keyid,description:e.description})}var d=new a(o);u.setModel(d,"valueHelp");return u};var v=function(e,i,n,d,u,p){var c={items:[]};for(const e of u){c.items.push({keyid:e.keyid,description:e.description})}var v=new a(c);var y=new l({filterList:false,useFirstMatch:false,items:{path:"valueHelp>/items",template:new s({key:"{valueHelp>keyid}",text:"{valueHelp>description}",additionalText:"{valueHelp>keyid}"})}});y.setModel(v,"valueHelp");var m=new o({content:y});m.setModel(v,"valueHelp");var g=new r({delegate:{name:"managesourcing/ext/delegates/ValueHelpDelegate",payload:{searchKeys:["key","name"],shouldOpenOnClick:true}},typeahead:m});g.setModel(v,"valueHelp");var h=new t(i+"--Field--"+n,{value:{path:"terms",formatter:function(e){}.bind({key:n,datatype:d})},editMode:"{=${ui>/isEditable}=== true ? 'Editable' : 'ReadOnly'}",display:"Description",valueHelp:g});h.setModel(v,"valueHelp");return h};var y=function(e,a,i,n,r,l){return new t(a+"--Field--"+i,{value:{path:"terms",formatter:function(e){if(!e){return"X"}var t=e.filter(e=>e.id===this.key);if(t.length<1){return}if(n==="Integer")return parseInt(t[0].value);else return t[0].value}.bind({key:i,datatype:n}),type:"sap.ui.model.type."+n},editMode:"{=${ui>/isEditable}=== true ? 'Editable' : 'ReadOnly'}"})};d.addItem=async(e,t)=>{const a=e.getId()+"---col-"+t;var r=await e.getBindingContext().requestProperty("IsActiveEntity");const l=[new i("id",n.Eq,t)];var s=await e.getModel().getKeepAliveContext("/Term(id='"+eventId+"',IsActiveEntity="+r+")");var o=await s.requestProperty("datatype");return await c(e,a,t,o,[])};d.updateBindingInfo=function(t,a){debugger;e.updateBindingInfo.call(d,t,a);if(!t.getBindingContext()){return}a.path=t.getBindingContext().getPath()+t.getPayload().bindingPath;a.parameters.$expand="terms($select=id,value)";a.parameters.$count=true;a.parameters.$$aggregation={hierarchyQualifier:"ItemHierarchy"}};return d});
},
	"managesourcing/ext/delegates/ValueHelpDelegate.js":function(){
sap.ui.define(["sap/ui/mdc/ValueHelpDelegate","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,t,n)=>{"use strict";const s=Object.assign({},e);s.retrieveContent=function(e,t,n){const s=t.getContent();const a=s[0];if(!a||!a.isA("sap.ui.mdc.valuehelp.content.MTable")||a.getTable()){return Promise.resolve()}return new Promise((e,n)=>{sap.ui.require(["sap/m/library","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Label","sap/m/Text","sap/ui/model/type/String"],function(){const[n,s,o,r,i,l,p]=Array.from(arguments);const{ListMode:u}=n;const c=new s(t.getId()+"-Table",{width:t.isTypeahead()?"13rem":"100%",mode:t.isTypeahead()?u.SingleSelectMaster:u.SingleSelectLeft,columns:[new o({width:"3rem",header:new i({text:"ID"})}),new o({width:"10rem",header:new i({text:"Name"})})],items:{path:"data>/countries",template:new r({type:"Active",cells:[new l({text:{path:"data>key",type:new p({},{maxLength:2})}}),new l({text:{path:"data>name",type:new p}})]})}});a.setTable(c);e()},n)})};s.updateBindingInfo=function(s,a,o){e.updateBindingInfo(s,a,o);const r=s.getPayload();if(r.searchKeys){const e=r.searchKeys.map(e=>new t({path:e,operator:n.Contains,value1:a.getSearch(),caseSensitive:a.getCaseSensitive()}));const s=e&&e.length&&new t(e,false);if(s){o.filters=o.filters.concat(s)}}};s.isSearchSupported=function(e,t,n){return!!e.getPayload()?.searchKeys};s.shouldOpenOnClick=function(t,n){const s=t.getPayload();if(s&&s.hasOwnProperty("shouldOpenOnClick")){return Promise.resolve(s.shouldOpenOnClick)}else{return e.shouldOpenOnClick.apply(this,arguments)}};s.shouldOpenOnFocus=function(t,n){const s=t.getPayload();if(s&&s.hasOwnProperty("shouldOpenOnFocus")){return Promise.resolve(s.shouldOpenOnFocus)}else{return e.shouldOpenOnFocus.apply(this,arguments)}};s.showTypeahead=function(t,n){const s=t.getPayload();if(s&&s.hasOwnProperty("shouldOpenOnFocus")&&!n.getFilterValue()){return true}else{return e.showTypeahead.apply(this,arguments)}};return s});
},
	"managesourcing/ext/event/SourcingEvent.controller.js":function(){
sap.ui.define(["sap/fe/core/PageController"],function(t){"use strict";return t.extend("managesourcing.ext.event.SourcingEvent",{onInit:function(){t.prototype.onInit.apply(this);this.getAppComponent().getRouter("Event").attachRoutePatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(t){var e=this.getView().getModel()},onModelContextChange:async function(t){var e=this.getView()?.getBindingContext();var i=await(e?.requestProperty("IsActiveEntity"));if(i!==undefined){var n=this.getView()?.getModel("ui");n.setProperty("/isEditable",!i)}},onSubSectionEntered:function(t){var e=t.getParameter("id");if(e===this.getView().byId("treeTableSubSection").getId()){var i=this.byId("treeTable");if(!i.getBinding("rows")){i.bindRows({path:this.getView().getBindingContext().getPath+"/items",parameters:{$expand:"terms"}})}}},onEdit:async function(t){var e=this.getView().getBindingContext();await this.getExtensionAPI().getEditFlow().editDocument(e);var i=this.getView()?.getModel("ui");i.setProperty("/isEditable",true)},onSave:async function(){await this.editFlow.saveDocument(this.getView().getBindingContext());var t=this.getView()?.getModel("ui");t.setProperty("/isEditable",false)},onCancel:async function(t){await this.editFlow.cancelDocument(this.getView().getBindingContext(),{cancelButton:t.getSource(),skipDiscardPopover:true});var e=this.getView()?.getModel("ui");e.setProperty("/isEditable",false)}})});
},
	"managesourcing/ext/event/SourcingEvent.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:mdc="sap.ui.mdc" xmlns:core="sap.ui.core" xmlns:table="sap.ui.mdc.table" xmlns:m="sap.m"\n    xmlns:layout="sap.uxap" xmlns:macros="sap.fe.macros"\n    controllerName="managesourcing.ext.event.SourcingEvent"\n    modelContextChange="onModelContextChange"><layout:ObjectPageLayout id="ObjectPageLayout" enableLazyLoading="true" upperCaseAnchorBar="false"\n\t    headerContentPinned="true" showFooter="{ui>/isEditable}" ><layout:headerTitle><layout:ObjectPageDynamicHeaderTitle><layout:heading><m:Title text="{description}"/></layout:heading><layout:actions><m:Button text="Edit" type="Emphasized" press="onEdit" visible="{= !${ui>/isEditable}}"/><m:OverflowToolbarButton icon="sap-icon://action" type="Transparent" text="Share" tooltip="action"/></layout:actions></layout:ObjectPageDynamicHeaderTitle></layout:headerTitle><layout:sections><layout:ObjectPageSection titleUppercase="false" title="Bidding Rules"><layout:subSections><layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false"><layout:blocks><macros:Form metaPath="@UI.FieldGroup#BiddingRules" id="overview"><macros:layout type="ResponsiveGridLayout" columnsM="1" singleContainerFullSize="true" labelSpanL="1" labelSpanM="1" labelSpanS="1" emptySpanL="7" /></macros:Form></layout:blocks></layout:ObjectPageSubSection></layout:subSections></layout:ObjectPageSection><layout:ObjectPageSection titleUppercase="false" title="Tasks"><layout:subSections><layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false"><layout:blocks><macros:Table metaPath="eventTasks/@com.sap.vocabularies.UI.v1.LineItem#EventTasks" readOnly="true" id="eventTasks" /></layout:blocks></layout:ObjectPageSubSection></layout:subSections></layout:ObjectPageSection><layout:ObjectPageSection titleUppercase="false" title="Suppliers"><layout:subSections><layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false"><layout:blocks><macros:Table metaPath="suppliers/@com.sap.vocabularies.UI.v1.LineItem" readOnly="true" id="MessageBoardTable" /></layout:blocks></layout:ObjectPageSubSection></layout:subSections></layout:ObjectPageSection><layout:ObjectPageSection titleUppercase="false" title="Items that need quotes"><layout:subSections><layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false"><layout:blocks><mdc:Table\n                                id="treeTable"\n                                type="TreeTable"\n                                delegate="{\n                                    name: \'managesourcing/ext/delegates/ItemTableDelegate\',\n                                    payload: {\n                                        bindingPath: \'/items\'\t\t\t\t\n                                    }\n                                    }"\n                                selectionMode="None"\n                                showRowCount="false"\n                                enableExport="true"\n                                p13nMode="Column,Sort"\n                                width="100%"><mdc:columns><table:Column id="id" header="Name"><m:Text text="{node_id}"></m:Text></table:Column></mdc:columns></mdc:Table></layout:blocks></layout:ObjectPageSubSection></layout:subSections></layout:ObjectPageSection></layout:sections><layout:footer><m:OverflowToolbar><m:ToolbarSpacer/><m:Button type="Accept" text="Save" press="onSave"/><m:Button type="Reject" text="Cancel" press="onCancel"/></m:OverflowToolbar></layout:footer></layout:ObjectPageLayout></mvc:View>\n\n',
	"managesourcing/ext/main/Main.controller.js":function(){
sap.ui.define(["sap/fe/core/PageController"],function(t){"use strict";return t.extend("managesourcing.ext.main.Main",{onInit:function(){t.prototype.onInit.apply(this);managesourcing.control.IconTab.IconTabHeader.prototype.validateTab=$.proxy(function(t){var e=this.getView().getModel("ui").getProperty("/isEditable");if(e){return false}return true},this);this.getAppComponent().getRouter("ProjectMain").attachRoutePatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(t){var e=t.getParameter("name");if(e!=="Details"&&e!=="ProjectMain"){return}var i=this.getView().getModel();var a=i.getMetaModel().requestObject("/Project");a.then(this._onMetadataLoaded.bind(this))},_onMetadataLoaded:async function(){try{await this._createNewDocument()}catch(t){sap.m.MessageToast.show(t.toString())}},_createNewDocument:async function(){var t=await this.getAppComponent().getModel().bindList("/Project").requestContexts();this.getExtensionAPI().routing.navigate(t[0],{preserveHistory:false})},onModelContextChange:async function(){var t=this.getView()?.getBindingContext();var e=await(t?.requestProperty("IsActiveEntity"));if(e!==undefined){var i=this.getView()?.getModel("ui");i.setProperty("/isEditable",!e)}},handleWizardSave:async function(){await this.editFlow.saveDocument(this.getView().getBindingContext())},handleWizardCancel:async function(t){await this.editFlow.cancelDocument(this.getView().getBindingContext(),{cancelButton:t.getSource(),skipDiscardPopover:true})},onDialogNextButton:function(t){var e=this.getView().byId("createProjectWizard");var i=this.getView().byId(e.getCurrentStep());var a=e.getSteps().indexOf(i);var n=e.getSteps()[a+1];if(i&&!i.bLast){e.goToStep(n,true)}else{e.nextStep()}},onDialogBackButton:function(t){var e=this.getView().byId("createProjectWizard");var i=this.getView().byId(e.getCurrentStep());var a=e.getSteps().indexOf(i);var n=e.getSteps()[a-1];if(i){e.goToStep(n,true)}else{e.previousStep()}},onEdit:async function(t){var e=this.getView().getBindingContext();await this.getExtensionAPI().getEditFlow().editDocument(e)},createTask:async function(t){var e=this.getView().byId("taskList").getModel().bindList(this.getView().byId("taskList").getBindingContext().getPath()+"/tasks");this.getView().getModel("ui").setProperty("/isBusy",true);var i=this.getView().byId("taskList").getSelectedContexts()[0];var a=null,n=null;if(i){a=await(i?.requestProperty("type_id"));if(a==="Phase"){n=await(i?.requestProperty("node_id"))}}var s={node_id:" ",type_id:"Task",parent_id:n};await this.editFlow.createDocument(e,{creationMode:"Inline",data:s});this.getView().byId("taskList").refresh();this.getView().getModel("ui").setProperty("/isBusy",false)},createPhase:async function(t){var e=this.getView().byId("taskList").getModel().bindList(this.getView().byId("taskList").getBindingContext().getPath()+"/tasks");this.getView().getModel("ui").setProperty("/isBusy",true);var i=this.getView().byId("taskList").getSelectedContexts()[0];var a=null,n=null;if(i){a=await(i?.requestProperty("type_id"));if(a==="Phase"){n=await(i?.requestProperty("node_id"))}}var s={node_id:" ",type_id:"Phase",parent_id:n};await this.editFlow.createDocument(e,{creationMode:"Inline",data:s});this.getView().byId("taskList").refresh();this.getView().getModel("ui").setProperty("/isBusy",false)},onTabSelect:function(t){},onEventNav:function(t){this.getExtensionAPI().routing.navigate(t.getParameter("bindingContext"),{preserveHistory:false})}})});
},
	"managesourcing/ext/main/Main.view.xml":'<mvc:View xmlns:form="sap.ui.layout.form"\n\t\txmlns:core="sap.ui.core"\n\t\txmlns:u="sap.ui.unified"\n\t\txmlns:mvc="sap.ui.core.mvc"\n        xmlns:macros="sap.fe.macros"\n\t\txmlns:macrosTable="sap.fe.macros.table"\n\t\txmlns:customITB="managesourcing.control.IconTab"\n\t\txmlns="sap.m" controllerName="managesourcing.ext.main.Main"\n        modelContextChange="onModelContextChange"><Page title="Manage Sourcing Project"><content><customITB:IconTab id="iconTabBar" select="onTabSelect" expandable="false" headerMode="Inline" stretchContentHeight="true"\n\t\tbackgroundDesign="Transparent" applyContentPadding="false" class="sapUiResponsiveContentPadding"\n\t\tselectedKey="{view>/selectedTabKey}" ><customITB:items><IconTabFilter id="Summary" key="Summary" icon="sap-icon://manager-insight" text="Project Summary" ><HBox width="100%" justifyContent="End"><Button text="Edit" press="onEdit" visible="{= !${ui>/isEditable}}"/></HBox><macros:Form metaPath="@UI.FieldGroup#GeneralInformation" id="overview"><macros:layout type="ResponsiveGridLayout" columnsM="1" singleContainerFullSize="true" labelSpanL="1" labelSpanM="1" labelSpanS="1" emptySpanL="7" /></macros:Form><macros:Form metaPath="@UI.FieldGroup#ExternalSystemIntegration" id="externalSystemIntegration"><macros:layout type="ResponsiveGridLayout" columnsM="1" singleContainerFullSize="true" labelSpanL="1" labelSpanM="1" labelSpanS="1" emptySpanL="7" /></macros:Form></IconTabFilter><IconTabFilter id="Tasks" key="Tasks" icon="sap-icon://pie-chart" text="Tasks"><HBox width="100%" justifyContent="End"><Button text="Edit" press="onEdit" visible="{= !${ui>/isEditable}}"/></HBox><macros:TreeTable metaPath="tasks/@com.sap.vocabularies.UI.v1.LineItem" id="taskList" headerVisible="false" \n\t\t\t\t\t\t\tselectionMode="Single" busy="{ui>/isBusy}" hierarchyQualifier="PhaseHierarchy" rowPress="onTaskRowPress"><creationMode name="Inline" inlineCreationRowsHiddenInEditMode="true"   /><macros:actions><macrosTable:ActionGroup text="Create" key="createActionGroup" id ="actionGroup"><macrosTable:Action text="Create Phase" press=".createPhase" /><macrosTable:Action text="Create Task" press=".createTask"  /></macrosTable:ActionGroup></macros:actions></macros:TreeTable></IconTabFilter><IconTabFilter id="Events" key="Events" icon="sap-icon://batch-payments" text="Events and Documents"><HBox width="100%" justifyContent="End"><Button text="Edit" press="onEdit" visible="{= !${ui>/isEditable}}"/></HBox><macros:Table metaPath="events/@com.sap.vocabularies.UI.v1.LineItem" id="EventsTable" selectionMode="Single" rowPress="onEventNav" /></IconTabFilter><IconTabFilter id="MessageBoard" key="MessageBoard" icon="sap-icon://message-popup" text="Message Board"><HBox width="100%" justifyContent="End"><Button text="Edit" press="onEdit" visible="{= !${ui>/isEditable}}"/></HBox><macros:Table metaPath="messages/@com.sap.vocabularies.UI.v1.LineItem" readOnly="true" id="MessageBoardTable" /></IconTabFilter></customITB:items></customITB:IconTab></content><footer><OverflowToolbar><ToolbarSpacer/><Button text="Save" type="Emphasized" visible="{ui>/isEditable}" press="handleWizardSave" /><Button\ttext="Cancel" type="Transparent" visible="{ui>/isEditable}" press="handleWizardCancel"/></OverflowToolbar></footer></Page></mvc:View>',
	"managesourcing/i18n/i18n.properties":'# This is the resource bundle for managesourcing\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Manage Sourcing Project\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Custom view title\nMainTitle=Main',
	"managesourcing/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"managesourcing","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:fpm","version":"1.14.3","toolsId":"3bb3de2d-0315-4cbc-b2e8-ef2b763d747c"},"crossNavigation":{"inbounds":{"SourcingProject-manage":{"signature":{"parameters":{},"additionalParameters":"allowed"},"semanticObject":"SourcingProject","action":"manage"}}},"dataSources":{"mainService":{"uri":"odata/v4/Sourcing/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.127.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"managesourcing.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"name":"ProjectMain","pattern":":?query:","target":"ProjectMain"},{"name":"Details","pattern":"Project({key})","target":"Details"},{"name":"Event","pattern":"Project({key})/events({key2}):?query:","target":"EventDetails"}],"targets":{"ProjectMain":{"type":"Component","id":"ProjectMain","name":"sap.fe.core.fpm","options":{"settings":{"viewName":"managesourcing.ext.main.Main","contextPath":"/Project"}}},"Details":{"type":"Component","id":"Details","name":"sap.fe.core.fpm","options":{"settings":{"viewName":"managesourcing.ext.main.Main","contextPath":"/Project"}}},"EventDetails":{"type":"Component","id":"ProjectMain","name":"sap.fe.core.fpm","options":{"settings":{"viewName":"managesourcing.ext.event.SourcingEvent","contextPath":"/Project/events"}}}}}},"sap.cloud":{"public":true,"service":"nexus.sourcing"}}'
});
//# sourceMappingURL=Component-preload.js.map
