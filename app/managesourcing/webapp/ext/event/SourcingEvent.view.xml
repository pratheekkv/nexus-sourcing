<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:mdc="sap.ui.mdc" xmlns:core="sap.ui.core" xmlns:table="sap.ui.mdc.table" xmlns:m="sap.m"
    xmlns:layout="sap.uxap" xmlns:macros="sap.fe.macros"
    controllerName="managesourcing.ext.event.SourcingEvent"
    modelContextChange="onModelContextChange">

	<layout:ObjectPageLayout id="ObjectPageLayout" enableLazyLoading="true" upperCaseAnchorBar="false"
	    headerContentPinned="true" showFooter="{ui>/isEditable}" >
		<layout:headerTitle>
			<layout:ObjectPageDynamicHeaderTitle>
				<layout:heading>
					<m:Title text="{description}"/>
				</layout:heading>
				<layout:actions>
					<m:Button text="Edit" type="Emphasized" press="onEdit" visible="{= !${ui>/isEditable}}"/>
					<m:OverflowToolbarButton icon="sap-icon://action" type="Transparent" text="Share" tooltip="action"/>
				</layout:actions>
			</layout:ObjectPageDynamicHeaderTitle>
		</layout:headerTitle>        
        <layout:sections>
		<layout:ObjectPageSection titleUppercase="false" title="Bidding Rules">
				<layout:subSections>
					<layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false">
						<layout:blocks>
							<macros:Form metaPath="@UI.FieldGroup#BiddingRules" id="overview">
								<macros:layout type="ResponsiveGridLayout" columnsM="1" singleContainerFullSize="true" labelSpanL="1" labelSpanM="1" labelSpanS="1" emptySpanL="7" />
							</macros:Form> 
						</layout:blocks>
					</layout:ObjectPageSubSection>
				</layout:subSections>
			</layout:ObjectPageSection> 	
		<layout:ObjectPageSection titleUppercase="false" title="Tasks">
				<layout:subSections>
					<layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false">
						<layout:blocks>
							<macros:Table metaPath="eventTasks/@com.sap.vocabularies.UI.v1.LineItem#EventTasks" readOnly="true" id="eventTasks" />
						</layout:blocks>
					</layout:ObjectPageSubSection>
				</layout:subSections>
			</layout:ObjectPageSection> 					
			<layout:ObjectPageSection titleUppercase="false" title="Suppliers">
				<layout:subSections>
					<layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false">
						<layout:blocks>
                            <macros:Table metaPath="suppliers/@com.sap.vocabularies.UI.v1.LineItem" readOnly="true" id="MessageBoardTable" />
						</layout:blocks>
					</layout:ObjectPageSubSection>
				</layout:subSections>
			</layout:ObjectPageSection>          
            <layout:ObjectPageSection titleUppercase="false" title="Items that need quotes">
				<layout:subSections>
					<layout:ObjectPageSubSection title=" " mode="Expanded" titleUppercase="false">
						<layout:blocks>
                            <mdc:Table
                                id="treeTable"
                                type="TreeTable"
                                delegate="{
                                    name: 'managesourcing/ext/delegates/ItemTableDelegate',
                                    payload: {
                                        bindingPath: '/items'				
                                    }
                                    }"
                                selectionMode="None"
                                showRowCount="false"
                                enableExport="true"
                                p13nMode="Column,Sort"
                                width="100%">
                                <mdc:columns>
                                    <table:Column id="id" header="Name">
                                        <m:Text text="{node_id}">							
                                        </m:Text>
                                    </table:Column>
                                </mdc:columns>
                            </mdc:Table>
						</layout:blocks>
					</layout:ObjectPageSubSection>
				</layout:subSections>
			</layout:ObjectPageSection> 
        </layout:sections>
        <layout:footer>
        <m:OverflowToolbar>
				<m:ToolbarSpacer/>
				<m:Button type="Accept" text="Save" press="onSave"/>
				<m:Button type="Reject" text="Cancel" press="onCancel"/>
			</m:OverflowToolbar>
        </layout:footer>
    </layout:ObjectPageLayout>
</mvc:View>

